# MatatuConnect - Smart Feedback, Payment, and Occupancy Awareness Platform
# Environment Configuration Template
# Copy this file to .env and fill in your actual values

# =====================================
# DATABASE CONFIGURATION (MySQL)
# =====================================
# MySQL connection details
DB_HOST=localhost
DB_PORT=3306
DB_NAME=matatuconnect
DB_USER=root
DB_PASSWORD=your_mysql_password
DB_CHARSET=utf8mb4

# =====================================
# SERVER CONFIGURATION
# =====================================
# Server port
PORT=5000

# Environment (development, production, test)
NODE_ENV=development

# CORS configuration
CORS_ORIGIN=http://localhost:3000

# =====================================
# JWT CONFIGURATION (Authentication)
# =====================================
# Secret key for signing JWT tokens
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_1234567890

# Token expiration time (e.g., 7d, 24h, 60m)
JWT_EXPIRE=7d

# =====================================
# M-PESA DARAJA (Sandbox) CONFIGURATION
# =====================================
# Get these credentials from Safaricom Developer Portal
# https://developer.safaricom.co.ke/

# M-Pesa API base URL (sandbox for testing)
MPESA_API_URL=https://sandbox.safaricom.co.ke

# M-Pesa OAuth credentials (Daraja sandbox)
MPESA_CONSUMER_KEY=gMNtmTtDo2lrcxpfOpI57nrLHWCEa94XDSNFUz7Gk4YjvLWD
MPESA_CONSUMER_SECRET=Ng9PomedkRfsl8MAkiPicnVQf7BWjYsVGgC4xI8bkdbS5qeVJAuQfQCmSi9H7qes

# M-Pesa Business Code (Paybill)
MPESA_BUSINESS_CODE=174379

# M-Pesa Passkey (for STK Push - sandbox)
MPESA_PASSKEY=bfb279f9aa9bdbcf158e97dd71a467cd2e0c893059b10f78e6b72ada1ed2c919

# M-Pesa Callback URLs (use ngrok for local demo)
MPESA_CALLBACK_URL=https://your-ngrok-url.ngrok-free.app/api/payments/mpesa-callback
MPESA_TIMEOUT_URL=https://your-ngrok-url.ngrok-free.app/api/payments/mpesa-callback

# =====================================
# SMS NOTIFICATION (Africa's Talking)
# =====================================
# Get these from Africa's Talking Developer Portal
# https://africastalking.com/

# Africa's Talking API Key
AFRICAS_TALKING_API_KEY=your_africas_talking_api_key

# Africa's Talking Username (usually 'sandbox' for development)
AFRICAS_TALKING_USERNAME=sandbox

# Default sender ID for SMS (max 11 characters)
SMS_SENDER_ID=MatatuConn

# =====================================
# WHATSAPP NOTIFICATIONS (Meta Business API)
# =====================================
# Get these from Meta Developer Platform
# https://developers.facebook.com/

# WhatsApp Business API Phone Number ID
WHATSAPP_PHONE_NUMBER_ID=your_whatsapp_phone_number_id

# WhatsApp Business Account ID
WHATSAPP_ACCOUNT_ID=your_whatsapp_business_account_id

# WhatsApp API Token
WHATSAPP_API_TOKEN=your_whatsapp_api_token

# WhatsApp Webhook Verification Token
WHATSAPP_WEBHOOK_TOKEN=your_webhook_verification_token

# =====================================
# LOGGING CONFIGURATION
# =====================================
# Log level (error, warn, info, debug, trace)
LOG_LEVEL=info

# Log file path
LOG_FILE=logs/app.log

# =====================================
# EMAIL CONFIGURATION (Optional - for future use)
# =====================================
# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=noreply@matatuconnect.com

# =====================================
# SECURITY CONFIGURATION
# =====================================
# Enable HTTPS only (set to true in production)
HTTPS_ONLY=false

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Password minimum length
PASSWORD_MIN_LENGTH=8

# =====================================
# ADMIN CONFIGURATION
# =====================================
# Default admin user for initial setup
ADMIN_EMAIL=admin@matatuconnect.com
ADMIN_PASSWORD=ChangeMe123!
ADMIN_PHONE=+254712345678

# =====================================
# PAYMENT SIMULATION
# =====================================
# Simulate payment delay (milliseconds)
PAYMENT_SIMULATION_DELAY=2000

# Payment simulation success rate (0-100%)
PAYMENT_SUCCESS_RATE=95

# =====================================
# FEATURE FLAGS
# =====================================
# FR1: Feedback Management
FEATURE_FEEDBACK=true

# FR2: Payment Simulation
FEATURE_PAYMENT_SIMULATION=true

# FR3: Occupancy Reporting
FEATURE_OCCUPANCY_REPORTING=true

# FR4: Notifications
FEATURE_SMS_NOTIFICATIONS=true
FEATURE_WHATSAPP_NOTIFICATIONS=true

# FR5: Admin Dashboard
FEATURE_ADMIN_DASHBOARD=true
